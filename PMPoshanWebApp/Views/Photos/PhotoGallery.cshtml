@model PMPoshanWebApp.Integrations.EMIS.Models.PhotoGallery
@{
    ViewData["Title"] = "Photo Gallery";
    Layout = "~/Views/Shared/_Layout.cshtml";

}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@@fancyapps/ui@5.0/dist/fancybox/fancybox.css" />

<main class="flex-grow p-4 sm:p-6">
    <div class="max-w-7xl mx-auto">

        <div class="mb-4">
            <a href="/photos?pageNo=1" class="inline-flex items-center text-sm text-gray-600 dark:text-gray-300 hover:text-accent">
                <span class="material-symbols-outlined text-base mr-1">arrow_back</span>
                Back
            </a>
        </div>

        <!-- Breadcrumbs -->
        <div class="mb-2 flex flex-wrap items-center gap-2">
            <a class="text-sm text-gray-600 dark:text-gray-400 hover:text-accent" href="/">Home</a>
            <span class="text-sm text-gray-400 dark:text-gray-500">/</span>
            <a class="text-sm text-gray-600 dark:text-gray-400 hover:text-accent" href="/photos">Photo Albums</a>
            <span class="text-sm text-gray-400 dark:text-gray-500">/</span>
            <span class="text-sm font-medium text-gray-800 dark:text-gray-200">Photos</span>
        </div>


        <!-- Page Title -->
        <div class="mb-6">
            <h1 class="text-2xl font-bold text-gray-900 dark:text-white sm:text-3xl">
                Photo Gallery
            </h1>
            
        </div>

        
        <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3 sm:gap-4">
            @if (Model?.Photos != null && Model.Photos.Any())
            {
                foreach (var photo in Model.Photos)
                {
                    <a class="group block"
                       data-fancybox="gallery"
                       href="@photo.PhotoThumb"
                       title="@photo.PhotoCaption">

                        <div class="w-full bg-center bg-no-repeat aspect-square bg-cover rounded-lg bg-gray-200 dark:bg-gray-700 overflow-hidden transform transition-transform duration-300 group-hover:scale-105">
                            <div class="w-full h-full bg-center bg-no-repeat aspect-square bg-cover"
                                 style="background-image: url('@photo.PhotoThumb');"
                                 data-alt="@photo.PhotoCaption">
                            </div>
                        </div>
                    </a>
                }
            }
            else
            {
                <p class="col-span-5 text-center text-gray-500 dark:text-gray-400">
                    No Photos Available
                </p>
            }
        </div>


    </div>
</main>

<script src="https://cdn.jsdelivr.net/npm/@@fancyapps/ui@5.0/dist/fancybox/fancybox.umd.js"></script>

<script>
    Fancybox.bind("[data-fancybox]", {
        zoomEffect: false,
        Carousel: {
            gestures: false,
            Zoomable: {
                Panzoom: {
                    startPos: {
                        scale: "cover",
                    },
                },
            },
        },
    });
</script>
